{    
   "apiVersion"      : "1.0.0",
   "swaggerVersion"  : "1.2",
   "basePath"        : "/api/v1",
   "resourcePath"    : "/types",
   "produces": [
      "application/json"
   ],
   "apis": [
      { 
         "path": "/types",
         "operations": [
            {
               "method"     : "POST",
               "summary"    : "Creates a type.",
               "notes"      : "<h3>Creates a type on the Cloudlet platform</h3>Creates an OPENi Type on the platform. An OPENi type defines how an OPENi object is structured. A type has a number of required fields including _reference and _context. The _context contains an array of member descriptions that an object requires so that it is compliant with the Type. When an OPENi Object is persisted to the system it is validated against the context as outlined in its OPENiType. <br/><br/>The Types allow for members of the following primitive types to be defined in the OPENi Objects.<br><br><ul><li>boolean</li><li>int</li><li>float</li><li>string</li><li>date(DD-MM-YYYY)</li><li>timestamp(yyyy-MM-dd HH:mm:ss.SSS)</li><li>OPENitype</li></ul>",
               "type"       : "CreateResponse",
               "nickname"   : "createType",
               "parameters" : [
                  {
                     "name"         : "data",
                     "description"  : "The type to be created.",
                     "required"     : true,
                     "type"         : "OPENiType",
                     "paramType"    : "body"
                  }
               ],
               "responseMessages": [
                  {
                     "code": 400,
                     "message": "Bad Request",
                     "responseModel": "CreateErrorResponse"
                  },
                  {
                     "code": 401,
                     "message": "Not Authorised",
                     "responseModel": "CreateErrorResponse"
                  }
               ]
            },
            {
               "method"     : "PATCH",
               "summary"    : "Create multiple types in a single request.",
               "notes"      : "Create multiple types to a in one go.",
               "type"       : "CreateResponseArray",
               "nickname"   : "createTypes",
               "parameters" : [
                  {
                     "name"         : "body",
                     "description"  : "JSON array of the types to be created.",
                     "required"     : true,
                     "type"         : "OPENiTypeArray",
                     "paramType"    : "body"
                  }
               ],
               "responseMessages": [
                  {
                     "code": 400,
                     "message": "Bad Request",
                     "responseModel": "CreateErrorResponse"
                  },
                  {
                     "code": 401,
                     "message": "Not Authorised",
                     "responseModel": "CreateErrorResponse"
                  }
               ]
            }
         ]
      },
      {
         "path": "/types/{typeID}",
         "operations": [
            {
               "method"     : "GET",
               "summary"    : "Get a type.",
               "notes"      : "Returns the type associated with the provided Id.",
               "type"       : "OPENiType",
               "nickname"   : "getType",
               "parameters" : [
                  {
                     "name"         : "typeID",
                     "description"  : "The Id of the type.",
                     "required"     : true,
                     "type"        : "string",
                     "paramType"    : "path"
                  }
               ],
               "responseMessages": [
                  {
                     "code": 400,
                     "message": "Bad Request",
                     "responseModel": "CreateErrorResponse"
                  },
                  {
                     "code": 401,
                     "message": "Not Authorised",
                     "responseModel": "CreateErrorResponse"
                  }
               ]
            }
         ]
      }
   ],
   "models": {
      "OPENiType": {
         "id": "OPENiType",
         "properties": {
            "_id": {
               "type"        : "string",
               "description" : "Unique identifier for the type",
               "required"    : false
            },
            "_context": {
               "type"        : "array",
               "description" : "An array of Types",
               "items"       : {
                  "$ref" : "ContextEntry"
               }
            },
            "_reference": {
               "type"        : "string",
               "description" : "The URL of the refernce type.",
               "required"    : true
            }
         }
      },
      "OPENiTypeArray": {
         "id": "OPENiTypeArray",
         "properties": {
            "types": {
               "type"        : "array",
               "description" : "An array of OPENi Types.",
               "items"       : {
                  "$ref" : "OPENiType"
               }
            }
         }
      },
      "CreateResponse": {
         "id": "CreateResponse",
         "properties": {
            "id": {
               "type"        : "string",
               "description" : "The id of the newly created OPENi Type",
               "required"    : true
            }
         }
      },
      "CreateResponseArray": {
         "id": "CreateResponseArray",
         "properties": {
            "types": {
               "type"        : "array",
               "description" : "An array of create responses",
               "items"       : {
                  "$ref" : "CreateResponse"
               }
            }
         }
      },
      "CreateErrorResponse": {
         "id": "CreateErrorResponse",
         "properties": {
            "error": {
               "type"        : "string",
               "description" : "Description of error that occurred.",
               "required"    : true
            }
         }
      },
      "ContextEntryArray": {
         "id": "ContextEntryArray",
         "properties": {
            "_context": {
               "type"        : "array",
               "description" : "An array of Types",
               "items"       : {
                  "$ref" : "ContextEntry"
               }
            }
         }
      },
      "ContextEntry": {
         "id": "ContextEntry",
         "properties": {
            "_property_name": {
               "type"        : "string",
               "description" : "Identifier for the context",
               "required"    : true
            },
            "_property_context": {
               "type"        : "ContextValue",
               "description" : "The type's semantic context (optional?)",
               "required"    : true
            }
         }
      },
      "ContextValue": {
         "id": "ContextValue",
         "properties": {
            "_id": {
               "type"        : "string",
               "description" : "Identifier for the context",
               "required"    : true
            },
            "_openi_type": {
               "type"        : "string",
               "description" : "The type's semantic context (optional?)",
               "required"    : true
            }
         }
      }
   }
}

{
   "apiVersion"      : "1.0.0",
   "swaggerVersion"  : "1.2",
   "basePath"        : "/api/v1",
   "resourcePath"    : "/attachments",
   "apis": [
	{
	   "path"       : "/attachments/{cloudletId}",
	   "operations" : [
		  {
			 "method"     : "POST",
			 "summary"    : "Creates an attachment to the JSON object",
			 "notes"      : "Creates an attachment to the JSON object. which may be any binary (see couchdb)",
			 "type"       : "AttachmentStatus",
			 "nickname"   : "uploadAttachment",
          "consumes": [
              "multipart/form-data"
           ],
			 "parameters" : [
            {
                  "name"        : "cloudletId",
                  "description" : "The id of the users cloudlet.",
                  "required"    : true,
                  "type"        : "string",
                  "paramType"   : "path"
            },
            {
               "name"          : "additionalMetadata",
               "description"   : "The file to upload",
               "required"      : true,
               "type"          : "string",
               "paramType"     : "form",
               "allowMultiple": false
            },
            {
               "name"          : "file",
               "description"   : "The file to upload",
               "required"      : true,
               "type"          : "File",
               "paramType"     : "form",
               "allowMultiple": false
            }
			],
			"responseMessages": [
				{
				   "code": 200,
				   "message": "Ok"
				},
				{
				   "code": 400,
				   "message": "Bad Request",
				   "responseModel": "AttachmentStatus"
				},
				{
				   "code": 401,
				   "message": "Unauthorised request",
				   "responseModel": "AttachmentStatus"
				}
			 ]
		  }
	   ]
	},
	{
	   "path"       : "/attachments/{cloudletId}/{attachmentId}",
	   "operations" : [
		  {
			 "method"     : "GET",
			 "summary"    : "Gets the attachment",
			 "notes"      : "Gets the attachment",
			 "type"       : "AttachmentStatus",
			 "nickname"   : "getAttachmentCloudlet",
			 "parameters" : [
            {
               "name"        : "cloudletId",
               "description" : "The id of the users cloudlet.",
               "required"    : true,
               "type"        : "string",
               "paramType"   : "path"
            },
            {
               "name"        : "attachmentId",
               "description" : "The id of the binary data.",
               "required"    : true,
               "type"        : "string",
               "paramType"   : "path"
            },
				{
				   "name"          : "meta",
				   "description"   : "The binary data",
				   "required"      : true,
				   "type"          : "boolean",
				   "paramType"     : "query"
				}
			 ],
			 "responseMessages": [
				{
				   "code": 200,
				   "message": "Ok"
				},
				{
				   "code": 400,
				   "message": "Bad Request",
				   "responseModel": "AttachmentStatus"
				},
				{
				   "code": 401,
				   "message": "Unauthorised request",
				   "responseModel": "AttachmentStatus"
				}
			 ]
		  }
	   ]
	}
   ],

   "models" : {
		"AttachmentStatus" : {
			"id" : "AttachmentStatus",
			"properties" : {
				"code" : {
					"type" : "integer",
					"format": "int32",
					"description" : "Response code",
               "required"    : true
				},
				"message":{
               "type"     :"string",
               "description" : "Descriptive message",
               "required" : false
            }
			}
		}
   }
}
